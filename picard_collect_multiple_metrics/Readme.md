# Picard CollectMultipleMetrics

## What does this app do?

This app calculates multiple summary statistic metrics for mapped reads (paired or unpaired) using CollectMultipleMetrics from the Picard tool suite.

## What are typical use cases for this app?

This app calculates multiple summary statistics for mapped reads, and is suitable for use in quality control of mapped reads.

## What data are required for this app to run?

This app requires a single coordinate-sorted mappings in BAM format (`*.bam`). BAM file generated by commonly used mappers such as BWA, BWA-MEM, Bowtie, TopHat, HISAT and NovoAlign are acceptable as input.

Mapping files in the SAM format (`*.sam`) needs to be converted to BAM and sorted. Most mapper apps privided by DNAnexus generate a coordinate-sorted mappings in BAM format as output.

Additionally, this app requires a reference genome sequence index generated by "FASTA indexer (with Picard and Samtools)". This should be provided as a gzipped tar archive file (`*.fasta-index.tar.gz`).

Indexing is an one-time operation that needs to be performed for a reference genome, using a Picard indexer. If you have created your own Picard index outside of DNAnexus, place all the index files and reference genome in a gzipped tar archive and provide that as the input; if you have a reference genome sequence in FASTA
format, you can index it with the "FASTA indexer (with Picard and Samtools)"" app found in the app store. See  ['which human reference sequence should I use?'](https://answers.dnanexus.com/p/183/) on DNAnexus Answers for more information.

## What does this app output?

This app outputs multiple metrics including base distribution by cycle, alignment summary, quality by cycle, insert size distribution, and quality distribution metrics.

Output statistics include both flat text files without extension and a report in pdf format.

## How does this app work?

This app uses the CollectMultipleMetrics command from the Picard suite of tool. For general information, consult the Picard manual at:

http://broadinstitute.github.io/picard/command-line-overview.html#CollectMultipleMetrics

